<?xml version="1.0" encoding="UTF-8"?>
<container xmlns="http://symfony.com/schema/dic/services" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
  <services>
    <prototype namespace="Nucleos\ShariffBundle\Service\" resource="../../Service" exclude="../../Service/{Exception}" public="true" autowire="true" autoconfigure="true">
      <tag name="nucleos.shariff"/>
    </prototype>
    <service id="Nucleos\ShariffBundle\Service\Facebook" public="true">
      <tag name="nucleos.shariff"/>
      <argument>%nucleos_shariff.service.facebook.app_id%</argument>
      <argument>%nucleos_shariff.service.facebook.secret%</argument>
      <argument>%nucleos_shariff.service.facebook.version%</argument>
    </service>
    <service id="Nucleos\ShariffBundle\Manager\ServiceManager" alias="Nucleos\ShariffBundle\Manager\StaticServiceManager"/>
    <service id="Nucleos\ShariffBundle\Manager\StaticServiceManager">
      <argument type="collection"/>
      <argument>%nucleos_shariff.services%</argument>
    </service>
    <service id="Nucleos\ShariffBundle\Backend\Backend" alias="Nucleos\ShariffBundle\Backend\PsrBackend"/>
    <service id="Nucleos\ShariffBundle\Backend\PsrBackend">
      <argument type="service" id="Nucleos\ShariffBundle\Manager\ServiceManager"/>
      <argument type="service" id="nucleos_shariff.request_factory"/>
      <argument type="service" id="nucleos_shariff.http_client"/>
      <argument type="service" id="nucleos_shariff.cache"/>
      <argument>%nucleos_shariff.domains%</argument>
      <call method="setLogger">
        <argument type="service" id="logger" on-invalid="ignore_uninitialized"/>
      </call>
    </service>
  </services>
</container>
